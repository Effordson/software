# 1 Notebook 插件
参考文档：
https://kknwfe6755.feishu.cn/docs/doccnBfbtETItLHMmbDBGBRdPrh

## 1.1 安装步骤

> booknote 插件支持本地部署，和在线服务两种方式使用。如果使用在线服务，不需要 webview，直接就可以使用，只是速度慢一些。

下面演示使用**本地服务**如何部署，以 windows 为例：

1.  安装 webview
因为插件使用 webview 服务，所以需要先安装 webview 环境。webview 是一个文档解析、阅读的工具，支撑 notebook 在 obsidian 内查看文档，已上传到 GitHub 软件仓库中的 obsidian 目录
解压到电脑任意目录即可，这里要记住解压的路径目录。

2.  安装 booknote 插件
按 OB 插件的手动安装方式进行安装，在此不过多介绍。同上 booknote 已上传 GitHub。当前安装版本：booknote-plugin-0.2.4-beta

## 1.2 软件设置
1.  插件设置
注意开启使用本地服务器，其中 webview 路径就是安装步骤 1 中的解压路径。
当前配置：
```
主书库跟路径： D:\git-code\CSDN\note\notebook 根据文档类型可以再建子目录
配置文件路径： note/notebook 标注、截图、标记会在此目录生成相应文件夹保存数据
WebView库路径：D:\software\hfs\webviewer
本地服务端口：默认1448 ，也可以设置其他值，重启obsidian后会监听设置的端口
```

2.  重启 OB

## 1.3 使用方法
笔记记录文档创建方式：如下面第七点，对应目录自动创建

1. 页面按 Ctrl+P，搜索 book -> open book explorer 打开书库
2. 开启后菜单栏出现 B 图标
3.  点击即可看到你的书库目录，目前支持显示 pdf，xlsx，docx，pptx 文档显示。**双击**文件即可在 OB 中打开。
4.  浏览添加注释，高亮段落
5.  回链到 md 文档
目前两种方式
-   复制回链，在任意文档手动粘贴。+
-   按住 ctrl 点击复制回链可以在当前激活的文档中**所在光标处**自动添加回链。

如何激活 (绑定) 文档？
在需要做笔记的文档上方斜向上的三角形图标->点击高亮->点击笔记记录文档 tab 标签，即可实现绑定，后面再次标注会自动添加到笔记记录文档中

6.  pdf，office 文档添加 Obsidian 链接，也就是可以把 obsidian 文档的 obsidian 格式链接关联到 pdf、office 做标注的位置，也可以外链到其他网址。
7.  可以添加维护，书籍对应文档的 yaml 信息
    1.  ctrl+p 开启高级浏览器
    2. 点击文档，选择编辑，添加字段
    3. 在 ob 库的 books-data 目录会生成 md 文档并添加 yaml 信息，这个文档跟文件是关联的

## 1.4 截图标注

目前截图标注只针对 pdf 文档有效，框选后复制回链即可把图片插入 md 文档中

1.  手动截图标注。
2. 自动截图标注
标注的内容格式可以根据设置的模板变量自定义
目前支持的模板变量有：

| 模板变量名称 | 解释           |
| ------------ | -------------- |
| page         | 页码           |
| url          | 回链链接       |
| content      | 选文摘录的内容 |
| img          | 区域摘录的截图 |
| comment      | 注释           |
| width        | 截图宽度       |
| height       | 截图高度       |